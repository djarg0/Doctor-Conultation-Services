<!DOCTYPE html>
<html lang="zxx">

    <!-- Mirrored from templates.hibootstrap.com/medsev/default/sign-up.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 15 Apr 2025 07:26:21 GMT -->
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="assets/css/bootstrap.min.css">
        <!-- Owl Carousel CSS -->
        <link rel="stylesheet" href="assets/css/owl.carousel.min.css">
        <link rel="stylesheet" href="assets/css/owl.theme.default.min.css">
        <!-- Meanmenu CSS -->
        <link rel="stylesheet" href="assets/css/meanmenu.css">
        <!-- Icofonts CSS -->
        <link rel="stylesheet" href="assets/css/icofont.min.css">
        <!-- Slick Slider CSS -->
        <link rel="stylesheet" href="assets/css/slick.min.css">
        <link rel="stylesheet" href="assets/css/slick-theme.min.css">
        <!-- Magnific Popup CSS -->
        <link rel="stylesheet" href="assets/css/magnific-popup.min.css">
        <!-- Animate CSS -->
        <link rel="stylesheet" href="assets/css/animate.min.css">
        <!-- Odometer CSS -->
        <link rel="stylesheet" href="assets/css/odometer.min.css">
        <!-- Style CSS -->
        <link rel="stylesheet" href="assets/css/style.css">
        <!-- Responsive CSS -->
        <link rel="stylesheet" href="assets/css/responsive.css">
        <!-- Theme Dark CSS -->
        <link rel="stylesheet" href="assets/css/theme-dark.css">

        <title>Medsev - Healthcare Clinic & Doctor HTML Template</title>

        <link rel="icon" type="image/png" href="assets/img/favicon.png">
    </head>
    <body onload="specialityList(); showDetails()">

        <!-- Preloader -->
        <div class="loader">
            <div class="d-table">
                <div class="d-table-cell">
                    <div class="spinner">
                        <div class="double-bounce1"></div>
                        <div class="double-bounce2"></div>
                    </div>
                </div>
            </div>
        </div>
        <!-- End Preloader -->

        <!-- Header Top -->
        <div th:replace="Header :: headertop"></div>
        <!-- End Header Top -->

        <!-- Start Navbar Area -->
        <div th:replace="DoctorHeader :: header"></div>
        <!-- End Navbar Area -->

        <!-- Sign Up -->
        <div class="signup-area">
            <div class="container-fluid">
                <div class="row justify-content-center">
                    <div class="col-lg-6 pl-0">
                        <div class="signup-left">
                            <img src="assets/img/signup-bg.jpg" alt="SignUp">
                        </div>
                    </div>

                    <div class="col-lg-6 ptb-100">
                        <div class="signup-item">
                            <div class="signup-head">
                                <h2>Edit Your Details</h2>
                            </div>
                            <div class="signup-form">
                                <form>
                                    <div class="row justify-content-center" id="showDetails">
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label>Name</label>
                                                <input type="text" id="name" class="form-control" placeholder="Name">
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label>Phone Number</label>
                                                <input type="text" id="phNum" class="form-control" placeholder="Phone Number">
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label>Email</label>
                                                <input type="email" id="email" class="form-control" placeholder="Your Email">
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label>Speciality</label>
                                                
                                                <div id="speciality" >
                                                    <select class="form-control" >
                                                    <option>Choose Your Speciality</option>
                                                    <option>John Smith</option>
                                                    <option>Sarah Taylor</option>
                                                </select>
                                                </div>
                                                
                                                
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label>City</label>
                                                <input type="text" id="city" class="form-control" placeholder="city">
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label>Longitude</label>
                                                <input type="text" id="longitude" class="form-control" placeholder="Longitude">
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label>Latitude</label>
                                                <input type="text" id="latitude" class="form-control" placeholder="Latitude">
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label>Start Time</label>
                                                <input type="text" id="startTime" class="form-control" placeholder="Start Time">
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label>End Time</label>
                                                <input type="text" id="endTime" class="form-control" placeholder="End Time">
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label>Slot Amount</label>
                                                <input type="text" id="slotAmount" class="form-control" placeholder="Slot Amount">
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label>Description</label>
                                                <textarea id="desc" class="form-control" placeholder="Description"></textarea>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label>Experience</label>
                                                <textarea id="experience" class="form-control" placeholder="Experience"></textarea>
                                            </div>
                                        </div>
                                        <div class="col-lg-12">
                                            <div class="form-group">
                                                <label>Education</label>
                                                <textarea id="education" class="form-control" placeholder="Education"></textarea>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label>Description</label>
                                                <textarea id="desc" class="form-control" placeholder="Description"></textarea>
                                            </div>
                                        </div>

                                        <div class="col-lg-12">
                                            <div class="text-center">
                                                <button type="button" onclick="editDetails()" class="btn signup-btn">Confirm</button>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- End Sign Up -->

        <!-- Footer -->
        <div th:replace="Footer :: footer"></div>
        <!-- End Footer -->



        <!-- Essential JS -->
        <script data-cfasync="false" src="../../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script src="assets/js/jquery.min.js"></script>
        <script src="assets/js/bootstrap.bundle.min.js"></script>
        <!-- Owl Carousel JS -->
        <script src="assets/js/owl.carousel.min.js"></script>
        <!-- Meanmenu JS -->
        <script src="assets/js/jquery.meanmenu.js"></script>
        <!-- Slider Slider JS -->
        <script src="assets/js/slick.min.js"></script>
        <!-- Magnific Popup -->
        <script src="assets/js/jquery.magnific-popup.min.js"></script>
        <!-- Wow JS -->
        <script src="assets/js/wow.min.js"></script>
        <!-- Form Ajaxchimp JS -->
        <script src="assets/js/jquery.ajaxchimp.min.js"></script>
        <!-- Form Validator JS -->
        <script src="assets/js/form-validator.min.js"></script>
        <!-- Contact JS -->
        <script src="assets/js/contact-form-script.js"></script>
        <!-- Odometer JS -->
        <script src="assets/js/odometer.min.js"></script>
        <script src="assets/js/jquery.appear.min.js"></script>
        <!-- Custom JS -->
        <script src="assets/js/custom.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        
        <script>

                                    function specialityList() {
                                        var url = "/specialityList";

                                        fetch(url, {method: "POST"})
                                                .then(response => response.text())
                                                .then(ans => renderSpeciality(ans));
                                    }
                                    function renderSpeciality(ans) {

                                        var mainobj = JSON.parse(ans);
                                        var arr = mainobj["ans"];
                                        var s = "";
                                        s += `<select class="form-control" ><option id="d1">Choose Your Speciality</option>`;
                                        for (var i = 0; i < arr.length; i++) {
                                            
                                            s += `<option value="${arr[i].sid}">`;
                                            s += arr[i].sname;
                                            s += `</option>`;
                                        }
                                        
                                        s = s + `</select>`;
                                        
                                        document.getElementById("speciality").innerHTML = s;
                                        
                                    }
                                    
                                    function editDetails() {
                                                var name = document.getElementById("name").value;
                                                var contact = document.getElementById("phNum").value;
                                                var city = document.getElementById("city").value;
                                                var longitude = document.getElementById("longitude").value;
                                                var latitude = document.getElementById("latitude").value;
                                                var startTime = document.getElementById("startTime").value;
                                                var endTime = document.getElementById("endTime").value;
                                                var slotAmount = document.getElementById("slotAmount").value;
                                                var desc = document.getElementById("desc").value;
                                                var experience = document.getElementById("experience").value;
                                                var education = document.getElementById("education").value;
                                                
                                                if(!name || !contact || !city || !longitude || !latitude || !startTime || !endTime || !slotAmount
                                                        || !desc || !experience || !education)
                                                {
                                                    Swal.fire({
                                                      icon:'warning',
                                                      title:'Empty Fileds',
                                                      text:'One or more fields are empty'
                                                    });
                                                }
                                                
                                                else {
                                                    if(contact.length!=10) {
                                                       Swal.fire({
                                                      icon:'warning',
                                                      title:'Mobile Number Must Be Of 10 Digits'
                                                    }); 
                                                    }
                                                    else if(!/^\d+$/.test(contact) || !/^\d+$/.test(startTime) || !/^\d+$/.test(endTime) || !/^\d+$/.test(slotAmount)) {
                                                        Swal.fire({
                                                            icon:'warning',
                                                            title:'Make Sure All Data Is In Correct'
                                                        }); 
                                                    }
                                                    
                                                    else {
                                                    
                                                        var formData = new FormData();
                                                        formData.append("name", name);
                                                        formData.append("contact", contact);
                                                        formData.append("city", city);
                                                        formData.append("longitude", longitude);
                                                        formData.append("latitude", latitude);
                                                        formData.append("startTime", startTime);
                                                        formData.append("endTime", endTime);
                                                        formData.append("slotAmount", slotAmount);
                                                        formData.append("desc", desc);
                                                        formData.append("experience", experience);
                                                        formData.append("education", education);

                                                        Swal.fire({
                                                        title: "Do you want to save the changes?",
                                                        showDenyButton: true,
                                                        confirmButtonText: "Save",
                                                        denyButtonText: `Don't save`
                                                      }).then((result) => {
                                                        /* Read more about isConfirmed, isDenied below */
                                                        if (result.isConfirmed) {
                                                            var url = "/editDetails";

                                                            fetch(url, {method: "POST", body: formData})
                                                                .then(response => response.text())
                                                                .then(ans => renderEditDetails(ans));
                                                        } else if (result.isDenied) {
                                                          Swal.fire("Changes are not saved", "", "info");
                                                        }
                                                    });
                                                        
                                                    }
                                                }
                                            }

                                            function renderEditDetails(ans) {
                                                if (ans === "success") {
                                                    sendmail();
                                                    Swal.fire({
                                                            icon:'success',
                                                            title:'Updated Successfully!'
                                                        });
                                                }
                                                else {
                                                    Swal.fire({
                                                        icon:'error',
                                                        title:'Incorrect Email or Password',
                                                        text:'Something Went Wrong'
                                                    });
                                                }
                                            }
                                            
                                            function showDetails() {
                                                    var url = "/showDetails";

                                                    fetch(url)
                                                            .then(response => response.text())
                                                            .then(ans => renderDetails(ans));
                                                }
                                                function renderDetails(ans) {

                                                    var mainobj = JSON.parse(ans);
                                                    var arr = mainobj["ans"];
                                                        var s = "";
                                                    
                                                    s+=`<div class="col-lg-6">`;
                                                    s+=`<div class="form-group">`;
                                                    s+=`<label>Email</label>`;
                                                    s+=`<input type="email" disabled id="email" value="${arr[0].demail}" class="form-control" placeholder="Your Email">`;
                                                    s+=`</div>`;
                                                    s+=`</div>`;
                                                    
                                                    s+=`<div class="col-lg-6">`;
                                                    s+=`<div class="form-group">`;
                                                    s+=`<label>Speciality</label>`;
                                                    s+=`<input type="text" disabled id="speciality" value="${arr[0].dspecialityname}" class="form-control">`;
                                                    s+=`</div>`;
                                                    s+=`</div>`;
                                                    
                                                    s+=`<div class="col-lg-6">`;
                                                    s+=`<div class="form-group">`;
                                                    s+=`<label>Name</label>`;
                                                    s+=`<input type="text" id="name" class="form-control" value="${arr[0].dname}" placeholder="Name">`;
                                                    s+=`</div>`;
                                                    s+=`</div>`;
                                                    
                                                    s+=`<div class="col-lg-6">`;
                                                    s+=`<div class="form-group">`;
                                                    s+=`<label>Phone Number</label>`;
                                                    s+=`<input type="text" id="phNum" value="${arr[0].dcontact}" class="form-control" placeholder="Phone Number">`;
                                                    s+=`</div>`;
                                                    s+=`</div>`;
                                                    
                                                    
                                                    s+=`<div class="col-lg-6">`;
                                                    s+=`<div class="form-group">`;
                                                    s+=`<label>City</label>`;
                                                    s+=`<input type="text" value="${arr[0].dcity}" id="city" class="form-control" placeholder="city">`;
                                                    s+=`</div>`;
                                                    s+=`</div>`;
                                                    
                                                    s+=`<div class="col-lg-6">`;
                                                    s+=`<div class="form-group">`;
                                                    s+=`<label>Latitude</label>`;
                                                    s+=`<input type="text" id="latitude" value="${arr[0].dlatitude}" class="form-control" placeholder="Latitude">`;
                                                    s+=`</div>`;
                                                    s+=`</div>`;
                                                    
                                                    s+=`<div class="col-lg-6">`;
                                                    s+=`<div class="form-group">`;
                                                    s+=`<label>Longitude</label>`;
                                                    s+=`<input type="text" id="longitude" value="${arr[0].dlongitude}" class="form-control" placeholder="Longitude">`;
                                                    s+=`</div>`;
                                                    s+=`</div>`;
                                                    
                                                    s+=`<div class="col-lg-6">`;
                                                    s+=`<div class="form-group">`;
                                                    s+=`<label>Start Time</label>`;
                                                    s+=`<input type="text" id="startTime" value="${arr[0].dstart_time}" class="form-control" placeholder="Start Time">`;
                                                    s+=`</div>`;
                                                    s+=`</div>`;
                                                    
                                                    s+=`<div class="col-lg-6">`;
                                                    s+=`<div class="form-group">`;
                                                    s+=`<label>End Time</label>`;
                                                    s+=`<input type="text" id="endTime" value="${arr[0].dend_time}" class="form-control" placeholder="End Time">`;
                                                    s+=`</div>`;
                                                    s+=`</div>`;
                                                    
                                                    s+=`<div class="col-lg-6">`;
                                                    s+=`<div class="form-group">`;
                                                    s+=`<label>Slot Amount</label>`;
                                                    s+=`<input type="text" id="slotAmount" class="form-control" value="${arr[0].dslot_amount}" placeholder="Slot Amount">`;
                                                    s+=`</div>`;
                                                    s+=`</div>`;
                                                    
                                                    s+=`<div class="col-lg-6">`;
                                                    s+=`<div class="form-group">`;
                                                    s+=`<label>Experience</label>`;
                                                    s+=`<textarea id="experience" class="form-control" placeholder="Experience">${arr[0].dexperience}</textarea>`;
                                                    s+=`</div>`;
                                                    s+=`</div>`;
                                                    
                                                    s+=`<div class="col-lg-6">`;
                                                    s+=`<div class="form-group">`;
                                                    s+=`<label>Education</label>`;
                                                    s+=`<textarea id="education" class="form-control" placeholder="Education">${arr[0].deducation}</textarea>`;
                                                    s+=`</div>`;
                                                    s+=`</div>`;
                                                    
                                                    s+=`<div class="col-lg-12">`;
                                                    s+=`<div class="form-group">`;
                                                    s+=`<label>Description</label>`;
                                                    s+=`<textarea id="desc" class="form-control" placeholder="Description">${arr[0].ddesc}</textarea>`;
                                                    s+=`</div>`;
                                                    s+=`</div>`;

                                                    s+=`<div class="col-lg-12">`;
                                                    s+=`<div class="text-center">`;
                                                    s+=`<button type="button" onclick="editDetails()" class="btn signup-btn">Confirm</button>`;
                                                    s+=`</div>`;
                                                    s+=`</div>`;
    

                                                    document.getElementById("showDetails").innerHTML = s;
                                                }
                                                
                                                function sendmail()
                                                {
                                                    var email= document.getElementById("email").value;
                                                    console.log(email);
                                                    var body="Your information has been successfully updated.";
                                                    var subject="Changes to your doctor profile";
                                                    var url="/usendemail?body="+body+"&subject="+subject+"&email="+email;
                                                    fetch(url)
                                                        .then(response => response.text())
                                                        .then(ans => renderAsHtml5(ans));
                                                }
                                                function renderAsHtml5(ans)
                                                {
                                                    //alert(ans);
                                                }
        </script>


    </body>

    <!-- Mirrored from templates.hibootstrap.com/medsev/default/sign-up.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 15 Apr 2025 07:26:21 GMT -->
</html>