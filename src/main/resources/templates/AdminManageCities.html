<!DOCTYPE html>
<html lang="zxx">

    <!-- Mirrored from templates.hibootstrap.com/medsev/default/login.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 15 Apr 2025 07:26:21 GMT -->
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="assets/css/bootstrap.min.css">
        <!-- Owl Carousel CSS -->
        <link rel="stylesheet" href="assets/css/owl.carousel.min.css">
        <link rel="stylesheet" href="assets/css/owl.theme.default.min.css">
        <!-- Meanmenu CSS -->
        <link rel="stylesheet" href="assets/css/meanmenu.css">
        <!-- Icofonts CSS -->
        <link rel="stylesheet" href="assets/css/icofont.min.css">
        <!-- Slick Slider CSS -->
        <link rel="stylesheet" href="assets/css/slick.min.css">
        <link rel="stylesheet" href="assets/css/slick-theme.min.css">
        <!-- Magnific Popup CSS -->
        <link rel="stylesheet" href="assets/css/magnific-popup.min.css">
        <!-- Animate CSS -->
        <link rel="stylesheet" href="assets/css/animate.min.css">
        <!-- Odometer CSS -->
        <link rel="stylesheet" href="assets/css/odometer.min.css">
        <!-- Style CSS -->
        <link rel="stylesheet" href="assets/css/style.css">
        <!-- Responsive CSS -->
        <link rel="stylesheet" href="assets/css/responsive.css">
        <!-- Theme Dark CSS -->
        <link rel="stylesheet" href="assets/css/theme-dark.css">

        <title>Medsev - Healthcare Clinic & Doctor HTML Template</title>

        <link rel="icon" type="image/png" href="assets/img/favicon.png">
        
        
    </head>
    <body onload="showCities()">

        <!-- Preloader -->
        <div class="loader">
            <div class="d-table">
                <div class="d-table-cell">
                    <div class="spinner">
                        <div class="double-bounce1"></div>
                        <div class="double-bounce2"></div>
                    </div>
                </div>
            </div>
        </div>
        <!-- End Preloader -->

        <!-- Header Top -->
        <div class="header-top">
            <div class="container">
                <div class="row align-items-center justify-content-center">
                    <div class="col-sm-9 col-lg-9">
                        <div class="header-top-item">
                            <div class="header-top-left">
                                <ul>
                                    <li>
                                        <a href="tel:+07554332322">
                                            <i class="icofont-ui-call"></i>
                                            Call : +07 554 332 322
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://templates.hibootstrap.com/cdn-cgi/l/email-protection#543c3138383b143931302731227a373b39">
                                            <i class="icofont-ui-message"></i>
                                            <span class="__cf_email__" data-cfemail="3e565b5252517e535b5a4d5b48105d5153">[email&#160;protected]</span>
                                        </a>
                                    </li>
                                    <li>
                                        <i class="icofont-location-pin"></i>
                                        210-27 Quadra, Canada 
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3 col-lg-3">
                        <div class="header-top-item">
                            <div class="header-top-right">
                                <ul>
                                    <li>
                                        <a href="https://www.facebook.com/login/" target="_blank">
                                            <i class="icofont-facebook"></i>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://twitter.com/login/" target="_blank">
                                            <i class="icofont-twitter"></i>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://www.pinterest.com/" target="_blank">
                                            <i class="icofont-pinterest"></i>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- End Header Top -->

        <!-- Start Navbar Area -->
        <div th:replace="AdminHeader :: header"></div>

        <!-- End Navbar Area -->

        <div class="page-title-area page-title-two">
            <div class="d-table">
                <div class="d-table-cell">
                    <div class="page-title-item">
                        <h2>Manage Cities</h2>
                        <ul>
                            <li>
                                <a href="/AdminHome">Home</a>
                            </li>
                            <li>
                                <i class="icofont-simple-right"></i>
                            </li>
                            <li>Manage Cities</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <section class="appointment-area-two">
            <div class="container">
                <div class="row align-items-center appointment-wrap-two">
                    <div class=" wow fadeInUp" data-wow-delay=".3s">          <!-- add col-lg-9 to move the form to left like before-->
                        <div class="appointment-item appointment-item-two">
                            <div class="appointment-shape">
                                <img src="assets/img/appointment/3.png" alt="Shape">
                            </div>
                            <h2>City Details</h2>
                            <span>Add cities to the list    </span>
                            <div class="appointment-form">
                                <form>
                                    <div class="row justify-content-center">
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label>City Name</label>
                                                <input type="text" class="form-control" id="cityName" placeholder="Enter City Name">
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label>City Photo</label>
                                                <input type="file" class="form-control" id="cityPhoto" accept="image/*" placeholder="Select City Photo">
                                            </div>
                                        </div>
                                        <div class="col">
                                            <div class="form-group">
                                                <label>City Description</label>
                                                <textarea class="form-control" id="cityDesc" placeholder="Enter City Description"></textarea>
                                            </div>
                                        </div>
                                        <div class="text-center">
                                            <button type="button" class="btn appointment-btn" onclick="addCity()">Add</button>
                                        </div>
                                </form>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </section>



        <section class="doctors-area ptb-100">
            <div class="container">
                <div class="section-title">
                    <h2>Already Added Cities</h2>
                </div>
                
                <div class="doctor-search-area">
                    <div class="container">
                        <form>
                            <div class="row doctor-search">
                                <div>
                                    
                                </div>
                            </div>
                        </form>
                    </div>
                </div><br>

                <div class="row justify-content-center" id="cityCard">
                    
                        
                                
                            

                </div>
            </div>
        </section>

        <!-- Footer -->
        <div th:replace="Footer :: footer"></div>
        <!-- End Footer -->

        

        <!-- Essential JS -->
        <script data-cfasync="false" src="../../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script src="assets/js/jquery.min.js"></script>
        <script src="assets/js/bootstrap.bundle.min.js"></script>
        <!-- Owl Carousel JS -->
        <script src="assets/js/owl.carousel.min.js"></script>
        <!-- Meanmenu JS -->
        <script src="assets/js/jquery.meanmenu.js"></script>
        <!-- Slider Slider JS -->
        <script src="assets/js/slick.min.js"></script>
        <!-- Magnific Popup -->
        <script src="assets/js/jquery.magnific-popup.min.js"></script>
        <!-- Wow JS -->
        <script src="assets/js/wow.min.js"></script>
        <!-- Form Ajaxchimp JS -->
        <script src="assets/js/jquery.ajaxchimp.min.js"></script>
        <!-- Form Validator JS -->
        <script src="assets/js/form-validator.min.js"></script>
        <!-- Contact JS -->
        <script src="assets/js/contact-form-script.js"></script>
        <!-- Odometer JS -->
        <script src="assets/js/odometer.min.js"></script>
        <script src="assets/js/jquery.appear.min.js"></script>
        <!-- Custom JS -->
        <script src="assets/js/custom.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        
        <script>
                    document.getElementById('anchor').onclick = function() {
                        this.classList.add('pointer-cursor');
                    };
                                            function addCity() {
                                                var cityName = document.getElementById("cityName").value;
                                                var cityDesc = document.getElementById("cityDesc").value;
                                                var cityPhoto = document.getElementById("cityPhoto").files[0];

                                                if(!cityName || !cityDesc || !cityPhoto)
                                                {
                                                  Swal.fire({
                                                      icon:'warning',
                                                      title:'Empty Fileds',
                                                      text:'One or more fields are empty'
                                                    });
                                                }
                                                else {
                                                    var formData = new FormData();
                                                    formData.append("cityName", cityName);
                                                    formData.append("cityDesc", cityDesc);
                                                    formData.append("cityPhoto", cityPhoto);

                                                    var url = "/acity";

                                                    fetch(url, {method: "POST", body: formData})
                                                            .then(response => response.text())
                                                            .then(ans => renderHTML(ans));
                                                }
                                            }

                                            function renderHTML(ans) {
                                                if (ans === "success") {
                                                    showCities();
                                                        Swal.fire({
                                                            icon:'success',
                                                            title:'Added Successfully!'
                                                        });
                
                                                    }
                                                    else if(ans === "failed") {
                                                        Swal.fire({
                                                            icon:'error',
                                                            title:'City Already Added!'
                                                        });
                                                    }
                                                    else {
                                                        alert(ans);
                                                    }   
                                            }
                                            
                                            function showCities() {
                                                var url="/showCity";
                                                
                                                fetch(url, {method: "POST"})
                                                        .then(response => response.text())
                                                        .then(ans2 => renderHTMLforCities(ans2));
                                            }
                                            function renderHTMLforCities(ans2) {
                                                
                                                var mainobj= JSON.parse(ans2);
                                                var arr= mainobj["ans"];
                                                
                                                var s = "";
                                                for(var i = 0;i<arr.length;i++)
                                                {
                                                    
                                                    var orgName= arr[i].cityphoto;
                                                    var filePath= "myUploads/" + orgName;
                                                    s += `<div class="col-sm-6 col-lg-4 wow fadeInUp" data-wow-delay=".3s">`;
                                                    s+= '<div class="doctor-item">';
                                                    s+='<div class="doctor-top">';
                                                    s+='<img src=';
                                                    s+= filePath + ">";
                                                    s+=`<a id="anchor" onclick="deleteCity(${arr[i].cityid})"`;
                                                    s+=arr[i].cityid;
                                                    s+='>Delete City</a>';
                                                    s+='</div>';
                                                    s+='<div class="doctor-bottom">';
                                                    s+='<div>';
                                                    s+='<h3>';
                                                    s+=arr[i].cityname;
                                                    s+='</h3>';
                                                    s+='</div>';
                                                    s+='</div>';
                                                    s+='</div>';
                                                    s+='</div>';
                                                    
                                                }

                                              document.getElementById("cityCard").innerHTML= s;
                                            }
                                            
                                            
                                            function deleteCity(id) {
                                                Swal.fire({
                                                        title: "Are You Sure You Want To Delete This City?",
                                                        showDenyButton: true,
                                                        confirmButtonText: "Yes",
                                                        denyButtonText: `No`
                                                      }).then((result) => {
                                                        /* Read more about isConfirmed, isDenied below */
                                                        if (result.isConfirmed) {
                                                            var formData= new FormData();
                                                            formData.append("cityId", id);
                                                            var url = "/deleteCity";
                                                            fetch(url, {method: "POST", body: formData})
                                                                .then(response => response.text())
                                                                .then(ans3 => renderHTMLforDelete(ans3) );
                                                          Swal.fire("Deleted!", "", "success");
                                                        } else if (result.isDenied) {
                                                          Swal.fire("Cancelled", "", "info");
                                                        }
                                                      });
                                                
                                                
                                            }
                                            function renderHTMLforDelete(ans3) {
                                                if(ans3==="success") {
                                                    showCities();
                                                }
                                                else {
                                                    Swal.fire({
                                                            icon:'error',
                                                            title:'Could Not Delete!'
                                                        });
                                                }
                                            }
        </script>
    </body>

</html>